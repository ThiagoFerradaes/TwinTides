using System.Collections;
using UnityEngine;

[CreateAssetMenu(fileName = "Invulnerability", menuName = "HealthBuff/Invulnerability")]
public class Invulnerability : HealthBuff {
    public override IEnumerator ApplyBuff(HealthManager health, int currentStacks) {
        if (health.IsServer) health.SetPermissionServerRpc(HealthPermissions.CanTakeDamage, false);
        yield return new WaitForSeconds(duration);
        StopBuff(health);
    }

    public override void StopBuff(HealthManager health) {
        health.SetPermissionServerRpc(HealthPermissions.CanTakeDamage, true);
        health.RemoveBuff(this);
    }
}
